<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üé∞ ULTRA BINGO CASINO</title>
    <style>
        :root {
            --primary: #0f0f23;
            --secondary: #00ff00;
            --accent: #ff00ff;
            --card-bg: #1a1a2e;
            --panel-bg: #16213e;
            --text: #ffffff;
            --win: #00ff88;
            --lose: #ff4444;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Courier New', monospace;
        }
        
        body {
            background: var(--primary);
            color: var(--text);
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        /* GLOW EFFECTS */
        .glow {
            text-shadow: 0 0 10px var(--secondary);
            animation: glow 2s infinite alternate;
        }
        
        @keyframes glow {
            0% { opacity: 1; }
            100% { opacity: 0.7; }
        }
        
        /* MAIN CONTAINER */
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 15px;
            display: grid;
            grid-template-areas:
                "header"
                "numbers"
                "bingo"
                "controls"
                "history";
            gap: 15px;
        }
        
        /* HEADER */
        .header {
            grid-area: header;
            text-align: center;
            padding: 15px;
            background: rgba(0, 0, 0, 0.5);
            border-radius: 15px;
            border: 2px solid var(--secondary);
        }
        
        .logo {
            font-size: 2.2rem;
            color: var(--secondary);
            margin-bottom: 10px;
        }
        
        .player-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 10px 20px;
            background: rgba(0, 255, 0, 0.1);
            border-radius: 10px;
            border: 1px solid var(--secondary);
        }
        
        .points-display {
            font-size: 1.5rem;
            color: var(--secondary);
        }
        
        /* NUMBER GRID */
        .numbers-container {
            grid-area: numbers;
            background: var(--panel-bg);
            border-radius: 15px;
            padding: 15px;
            border: 2px solid var(--accent);
        }
        
        .numbers-grid {
            display: grid;
            grid-template-columns: repeat(20, 1fr);
            gap: 3px;
            max-height: 300px;
            overflow-y: auto;
            padding: 8px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 8px;
        }
        
        .num-btn {
            aspect-ratio: 1;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid rgba(0, 255, 255, 0.2);
            color: white;
            border-radius: 3px;
            cursor: pointer;
            font-size: 0.8rem;
            transition: all 0.2s;
        }
        
        .num-btn:hover {
            background: rgba(0, 255, 255, 0.3);
        }
        
        .num-btn.selected {
            background: var(--accent);
            color: black;
            font-weight: bold;
            animation: pulse 0.5s infinite alternate;
        }
        
        .num-btn.surrounding {
            background: rgba(0, 255, 0, 0.2);
            border-color: var(--secondary);
        }
        
        /* BINGO CARD */
        .bingo-container {
            grid-area: bingo;
            background: var(--panel-bg);
            border-radius: 15px;
            padding: 15px;
            border: 2px solid var(--accent);
        }
        
        .bingo-header {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
            margin-bottom: 8px;
        }
        
        .bingo-letter {
            text-align: center;
            padding: 10px;
            font-size: 1.2rem;
            font-weight: bold;
            background: rgba(255, 0, 255, 0.3);
            border-radius: 5px;
            color: var(--accent);
        }
        
        .bingo-grid {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
            background: rgba(0, 0, 0, 0.5);
            padding: 10px;
            border-radius: 8px;
        }
        
        .bingo-cell {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(0, 255, 255, 0.1);
            border: 1px solid rgba(0, 255, 255, 0.2);
            border-radius: 4px;
            font-size: 0.9rem;
            transition: all 0.3s;
        }
        
        .bingo-cell.marked {
            background: rgba(0, 255, 0, 0.3);
            border-color: var(--secondary);
            animation: marked-pulse 0.5s;
        }
        
        .bingo-cell.free {
            background: rgba(255, 255, 0, 0.3);
            font-weight: bold;
            font-size: 0.8rem;
        }
        
        /* CURRENT NUMBER */
        .current-number {
            text-align: center;
            padding: 15px;
            background: linear-gradient(45deg, rgba(255,0,255,0.2), rgba(0,255,255,0.2));
            border-radius: 10px;
            margin: 15px 0;
            border: 2px solid var(--accent);
        }
        
        .current-number .number {
            font-size: 2.5rem;
            color: var(--secondary);
            margin: 5px 0;
        }
        
        .current-number .letter {
            font-size: 1.5rem;
            color: var(--accent);
        }
        
        /* WAGER CONTROL */
        .wager-control {
            background: rgba(0, 0, 0, 0.5);
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
            display: none;
        }
        
        .wager-control.active {
            display: block;
            animation: slideDown 0.3s;
        }
        
        .wager-display {
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            margin: 15px 0;
        }
        
        .wager-amount {
            font-size: 1.8rem;
            color: var(--secondary);
            min-width: 100px;
            text-align: center;
        }
        
        .wager-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: none;
            background: var(--accent);
            color: black;
            font-size: 1.2rem;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .wager-btn:hover {
            transform: scale(1.1);
        }
        
        /* CONTROLS */
        .controls-container {
            grid-area: controls;
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            justify-content: center;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            border: 1px solid var(--accent);
        }
        
        .btn:hover {
            transform: translateY(-2px);
        }
        
        .btn-primary {
            background: linear-gradient(45deg, #ff00ff, #00ffff);
            color: black;
        }
        
        .btn-success {
            background: linear-gradient(45deg, #00ff88, #00cc66);
            color: black;
        }
        
        .btn-danger {
            background: linear-gradient(45deg, #ff4444, #cc0000);
            color: white;
        }
        
        /* HISTORY */
        .history-container {
            grid-area: history;
            background: var(--panel-bg);
            border-radius: 15px;
            padding: 15px;
            max-height: 200px;
            overflow-y: auto;
        }
        
        .numbers-history {
            display: flex;
            flex-wrap: wrap;
            gap: 5px;
            margin-top: 10px;
        }
        
        .called-num {
            width: 35px;
            height: 35px;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background: rgba(0, 255, 255, 0.2);
            border-radius: 4px;
            font-size: 0.8rem;
        }
        
        /* MODALS */
        .modal {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.9);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            pointer-events: none;
            transition: opacity 0.5s;
        }
        
        .modal.active {
            opacity: 1;
            pointer-events: all;
        }
        
        .modal-content {
            background: var(--card-bg);
            padding: 30px;
            border-radius: 15px;
            max-width: 400px;
            width: 90%;
            text-align: center;
            border: 3px solid var(--secondary);
        }
        
        /* AUDIO CONTROL */
        .audio-controls {
            position: fixed;
            top: 15px;
            right: 15px;
            z-index: 100;
        }
        
        .audio-btn {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid var(--accent);
            color: white;
            cursor: pointer;
            font-size: 1rem;
        }
        
        /* RESPONSIVE */
        @media (max-width: 768px) {
            .numbers-grid {
                grid-template-columns: repeat(10, 1fr);
            }
            
            .bingo-cell {
                font-size: 0.8rem;
            }
            
            .current-number .number {
                font-size: 2rem;
            }
            
            .controls-container {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            100% { transform: scale(1.05); }
        }
        
        @keyframes marked-pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
    </style>
</head>
<body>
    <!-- AUDIO CONTROL -->
    <div class="audio-controls">
        <button class="audio-btn" id="muteBtn">üîä</button>
    </div>
    
    <!-- MAIN CONTAINER -->
    <div class="container">
        <!-- HEADER -->
        <div class="header">
            <div class="logo glow">üé∞ ULTRA BINGO</div>
            <div class="player-info">
                <div class="points-display" id="points">1,000</div>
                <div>
                    <button class="btn" id="pointsBtn">üí∞ Points</button>
                    <button class="btn" id="historyBtn">üìú History</button>
                </div>
            </div>
        </div>
        
        <!-- NUMBER SELECTION -->
        <div class="numbers-container">
            <h3>üéØ SELECT NUMBER (1-200)</h3>
            <div class="numbers-grid" id="numbersGrid"></div>
            
            <!-- WAGER CONTROL -->
            <div class="wager-control" id="wagerControl">
                <div class="wager-display">
                    <button class="wager-btn" id="decreaseBtn">‚àí</button>
                    <div class="wager-amount" id="wagerAmount">50</div>
                    <button class="wager-btn" id="increaseBtn">+</button>
                </div>
                <div style="text-align: center; margin: 10px 0;">
                    <button class="btn btn-primary" id="placeBetBtn">üéÆ START GAME</button>
                    <button class="btn btn-danger" id="cancelBetBtn" style="margin-top: 10px;">‚úñ Cancel</button>
                </div>
            </div>
        </div>
        
        <!-- BINGO CARD -->
        <div class="bingo-container">
            <h3>üé¥ YOUR BINGO CARD</h3>
            
            <!-- BINGO GRID -->
            <div class="bingo-header">
                <div class="bingo-letter">B</div>
                <div class="bingo-letter">I</div>
                <div class="bingo-letter">N</div>
                <div class="bingo-letter">G</div>
                <div class="bingo-letter">O</div>
            </div>
            <div class="bingo-grid" id="bingoGrid"></div>
            
            <!-- CURRENT NUMBER -->
            <div class="current-number">
                <div>üéØ CURRENT NUMBER</div>
                <div class="number" id="currentNumber">---</div>
                <div class="letter" id="currentLetter"></div>
                <div id="progress">0/75 numbers called</div>
            </div>
        </div>
        
        <!-- GAME CONTROLS -->
        <div class="controls-container">
            <button class="btn btn-primary" id="startBtn" disabled>‚ñ∂Ô∏è Start Auto-Call</button>
            <button class="btn btn-danger" id="stopBtn" disabled>‚èπÔ∏è Stop</button>
            <button class="btn btn-success" id="checkBtn" disabled>‚úÖ Check Bingo</button>
        </div>
        
        <!-- CALLED NUMBERS -->
        <div class="history-container">
            <h3>üì£ CALLED NUMBERS</h3>
            <div class="numbers-history" id="calledNumbers"></div>
        </div>
    </div>
    
    <!-- POINTS MODAL -->
    <div class="modal" id="pointsModal">
        <div class="modal-content">
            <h3 class="glow">üí∞ POINTS MANAGEMENT</h3>
            <div class="points-display" style="font-size: 2rem; margin: 15px 0;" id="modalPoints">1,000</div>
            <div style="display: flex; gap: 10px; justify-content: center;">
                <button class="btn btn-success" id="depositBtn">üí≥ Deposit</button>
                <button class="btn btn-primary" id="withdrawBtn">üèß Withdraw</button>
                <button class="btn" id="closePointsBtn">Close</button>
            </div>
        </div>
    </div>
    
    <!-- RESULT MODAL -->
    <div class="modal" id="resultModal">
        <div class="modal-content">
            <h3 id="resultTitle" class="glow">üéâ BINGO!</h3>
            <div id="resultMessage" style="margin: 15px 0;"></div>
            <div id="resultPoints" style="font-size: 1.5rem; color: var(--secondary); margin: 15px 0;"></div>
            <button class="btn btn-primary" id="playAgainBtn">üéÆ Select New Number</button>
        </div>
    </div>
    
    <!-- AUDIO ELEMENTS -->
    <audio id="bgMusic" loop>
        <source src="https://assets.mixkit.co/music/preview/mixkit-chill-abstract-loop-229.mp3" type="audio/mpeg">
    </audio>
    
    <script>
        // ===== GAME CONFIG =====
        const CONFIG = {
            TOTAL_NUMBERS: 200,
            CARD_SIZE: 25,
            NUMBERS_TO_CALL: 75,
            CALL_INTERVAL: 1000,
            STARTING_POINTS: 1000,
            MIN_WAGER: 50,
            ODDS: { single: 5, two: 10, three: 50, four: 200, full: 1000 }
        };

        // ===== GAME STATE =====
        let state = {
            points: CONFIG.STARTING_POINTS,
            selectedNumber: null,
            wager: 50,
            gameActive: false,
            calledNumbers: [],
            markedCells: new Set(),
            bingoCard: [],
            interval: null,
            mute: false,
            lastWager: 50
        };

        // ===== INITIALIZATION =====
        function init() {
            createNumberGrid();
            updatePointsDisplay();
            setupEventListeners();
            playBackgroundMusic();
            selectNumber(100); // Default selection
        }

        // ===== CREATE NUMBER GRID =====
        function createNumberGrid() {
            const grid = document.getElementById('numbersGrid');
            for (let i = 1; i <= CONFIG.TOTAL_NUMBERS; i++) {
                const btn = document.createElement('button');
                btn.className = 'num-btn';
                btn.textContent = i;
                btn.onclick = () => selectNumber(i);
                grid.appendChild(btn);
            }
        }

        // ===== SELECT NUMBER =====
        function selectNumber(num) {
            if (state.gameActive) return;
            
            // Reset previous selection
            document.querySelectorAll('.num-btn.selected, .num-btn.surrounding')
                .forEach(btn => btn.classList.remove('selected', 'surrounding'));
            
            state.selectedNumber = num;
            
            // Highlight selected
            const selectedBtn = document.querySelector(`.num-btn:nth-child(${num})`);
            if (selectedBtn) selectedBtn.classList.add('selected');
            
            // Highlight surrounding numbers
            const surrounding = getSurroundingNumbers(num);
            surrounding.forEach(n => {
                const btn = document.querySelector(`.num-btn:nth-child(${n})`);
                if (btn) btn.classList.add('surrounding');
            });
            
            // Generate bingo card
            generateBingoCard(surrounding);
            
            // Show wager control
            document.getElementById('wagerControl').classList.add('active');
            document.getElementById('wagerAmount').textContent = state.lastWager;
            state.wager = state.lastWager;
            
            // Enable start button
            document.getElementById('startBtn').disabled = false;
        }

        // ===== GET SURROUNDING NUMBERS =====
        function getSurroundingNumbers(center) {
            const nums = new Set([center]);
            let offset = 1;
            
            while (nums.size < CONFIG.CARD_SIZE) {
                for (let i = -offset; i <= offset; i++) {
                    const num = center + i;
                    if (num >= 1 && num <= CONFIG.TOTAL_NUMBERS) {
                        nums.add(num);
                        if (nums.size === CONFIG.CARD_SIZE) break;
                    }
                }
                offset++;
            }
            
            return Array.from(nums);
        }

        // ===== GENERATE BINGO CARD =====
        function generateBingoCard(numbers) {
            const sorted = [...numbers].sort((a, b) => a - b);
            state.bingoCard = [];
            const container = document.getElementById('bingoGrid');
            container.innerHTML = '';
            
            // Create 5x5 grid
            for (let row = 0; row < 5; row++) {
                for (let col = 0; col < 5; col++) {
                    const idx = row * 5 + col;
                    const cell = document.createElement('div');
                    cell.className = 'bingo-cell';
                    
                    if (idx < sorted.length) {
                        const num = sorted[idx];
                        cell.textContent = num;
                        cell.dataset.number = num;
                        cell.dataset.id = `${row}-${col}`;
                        
                        // Set color based on number range
                        if (num <= 40) cell.style.borderColor = '#ff0000';
                        else if (num <= 80) cell.style.borderColor = '#00ff00';
                        else if (num <= 120) cell.style.borderColor = '#0000ff';
                        else if (num <= 160) cell.style.borderColor = '#ffff00';
                        else cell.style.borderColor = '#ff00ff';
                    } else {
                        cell.textContent = 'FREE';
                        cell.classList.add('free');
                        cell.dataset.id = `${row}-${col}`;
                    }
                    
                    container.appendChild(cell);
                }
            }
            
            state.markedCells.clear();
        }

        // ===== START GAME =====
        function startGame() {
            if (state.wager > state.points) {
                alert('Insufficient points!');
                return;
            }
            
            // Deduct wager
            state.points -= state.wager;
            updatePointsDisplay();
            
            // Reset game state
            state.gameActive = true;
            state.calledNumbers = [];
            state.markedCells.clear();
            
            // Clear called numbers display
            document.getElementById('calledNumbers').innerHTML = '';
            document.getElementById('currentNumber').textContent = '---';
            document.getElementById('currentLetter').textContent = '';
            document.getElementById('progress').textContent = '0/75 numbers called';
            
            // Disable wager control
            document.getElementById('wagerControl').classList.remove('active');
            document.getElementById('startBtn').disabled = true;
            document.getElementById('stopBtn').disabled = false;
            document.getElementById('checkBtn').disabled = false;
            
            // Disable number selection
            document.querySelectorAll('.num-btn').forEach(btn => {
                btn.style.pointerEvents = 'none';
            });
            
            // Start calling numbers
            state.interval = setInterval(callNextNumber, CONFIG.CALL_INTERVAL);
            callNextNumber(); // Call first number immediately
        }

        // ===== CALL NEXT NUMBER =====
        function callNextNumber() {
            if (!state.gameActive || state.calledNumbers.length >= CONFIG.NUMBERS_TO_CALL) {
                endGame();
                return;
            }
            
            // Generate random number
            let num;
            do {
                num = Math.floor(Math.random() * CONFIG.TOTAL_NUMBERS) + 1;
            } while (state.calledNumbers.includes(num));
            
            state.calledNumbers.push(num);
            
            // Get letter
            const letter = getLetter(num);
            
            // Update display
            document.getElementById('currentNumber').textContent = num;
            document.getElementById('currentLetter').textContent = letter;
            document.getElementById('progress').textContent = 
                `${state.calledNumbers.length}/${CONFIG.NUMBERS_TO_CALL} numbers called`;
            
            // Add to history
            addCalledNumber(num, letter);
            
            // Mark on card
            markNumber(num);
            
            // Check for bingo
            if (state.calledNumbers.length % 5 === 0) {
                checkBingo();
            }
        }

        // ===== MARK NUMBER ON CARD =====
        function markNumber(num) {
            const cell = document.querySelector(`.bingo-cell[data-number="${num}"]`);
            if (cell && !cell.classList.contains('marked')) {
                cell.classList.add('marked');
                const cellId = cell.dataset.id;
                state.markedCells.add(cellId);
            }
        }

        // ===== CHECK BINGO =====
        function checkBingo() {
            if (!state.gameActive) return;
            
            // Check rows
            for (let row = 0; row < 5; row++) {
                const cells = [];
                for (let col = 0; col < 5; col++) {
                    cells.push(`${row}-${col}`);
                }
                if (cells.every(cell => state.markedCells.has(cell) || cell === '2-2')) {
                    winGame('Row ' + (row + 1), 1);
                    return;
                }
            }
            
            // Check columns
            for (let col = 0; col < 5; col++) {
                const cells = [];
                for (let row = 0; row < 5; row++) {
                    cells.push(`${row}-${col}`);
                }
                if (cells.every(cell => state.markedCells.has(cell) || cell === '2-2')) {
                    winGame('Column ' + ['B','I','N','G','O'][col], 1);
                    return;
                }
            }
            
            // Check diagonals
            const diag1 = ['0-0', '1-1', '2-2', '3-3', '4-4'];
            const diag2 = ['0-4', '1-3', '2-2', '3-1', '4-0'];
            
            if (diag1.every(cell => state.markedCells.has(cell) || cell === '2-2')) {
                winGame('Diagonal', 1);
                return;
            }
            if (diag2.every(cell => state.markedCells.has(cell) || cell === '2-2')) {
                winGame('Diagonal', 1);
                return;
            }
            
            // If all numbers called and no bingo
            if (state.calledNumbers.length >= CONFIG.NUMBERS_TO_CALL) {
                loseGame();
            }
        }

        // ===== WIN GAME =====
        function winGame(pattern, lines) {
            state.gameActive = false;
            clearInterval(state.interval);
            
            // Calculate winnings
            let multiplier = CONFIG.ODDS.single;
            if (lines >= 4) multiplier = CONFIG.ODDS.four;
            else if (lines >= 3) multiplier = CONFIG.ODDS.three;
            else if (lines >= 2) multiplier = CONFIG.ODDS.two;
            
            const winnings = state.wager * multiplier;
            state.points += winnings;
            
            // Show result
            document.getElementById('resultTitle').textContent = 'üéâ BINGO!';
            document.getElementById('resultMessage').textContent = 
                `You won with ${pattern}!`;
            document.getElementById('resultPoints').textContent = 
                `Won: ${winnings} points (Total: ${state.points})`;
            document.getElementById('resultModal').classList.add('active');
            
            updatePointsDisplay();
            state.lastWager = state.wager;
            
            // Re-enable number selection
            enableNumberSelection();
        }

        // ===== LOSE GAME =====
        function loseGame() {
            state.gameActive = false;
            clearInterval(state.interval);
            
            document.getElementById('resultTitle').textContent = 'üòû GAME OVER';
            document.getElementById('resultMessage').textContent = 
                'All 75 numbers called. No Bingo this time!';
            document.getElementById('resultPoints').textContent = 
                `Lost: ${state.wager} points (Total: ${state.points})`;
            document.getElementById('resultModal').classList.add('active');
            
            updatePointsDisplay();
            state.lastWager = state.wager;
            
            // Re-enable number selection
            enableNumberSelection();
        }

        // ===== END GAME =====
        function endGame() {
            if (!state.gameActive) return;
            
            state.gameActive = false;
            clearInterval(state.interval);
            
            document.getElementById('startBtn').disabled = false;
            document.getElementById('stopBtn').disabled = true;
            document.getElementById('checkBtn').disabled = true;
            
            // Re-enable number selection
            enableNumberSelection();
        }

        // ===== ENABLE NUMBER SELECTION =====
        function enableNumberSelection() {
            document.querySelectorAll('.num-btn').forEach(btn => {
                btn.style.pointerEvents = 'auto';
            });
        }

        // ===== ADJUST WAGER =====
        function adjustWager(delta) {
            let step = 25;
            if (state.wager >= 250 && state.wager < 500) step = 50;
            if (state.wager >= 500) step = 100;
            
            const newWager = state.wager + (delta * step);
            
            if (newWager >= CONFIG.MIN_WAGER && newWager <= state.points) {
                state.wager = newWager;
                document.getElementById('wagerAmount').textContent = state.wager;
            }
        }

        // ===== ADD CALLED NUMBER =====
        function addCalledNumber(num, letter) {
            const container = document.getElementById('calledNumbers');
            const div = document.createElement('div');
            div.className = 'called-num';
            div.innerHTML = `<strong>${num}</strong><small>${letter}</small>`;
            
            // Color based on letter
            if (letter === 'B') div.style.background = 'rgba(255, 0, 0, 0.3)';
            else if (letter === 'I') div.style.background = 'rgba(0, 255, 0, 0.3)';
            else if (letter === 'N') div.style.background = 'rgba(0, 0, 255, 0.3)';
            else if (letter === 'G') div.style.background = 'rgba(255, 255, 0, 0.3)';
            else div.style.background = 'rgba(255, 0, 255, 0.3)';
            
            container.insertBefore(div, container.firstChild);
            
            // Limit displayed numbers
            if (container.children.length > 30) {
                container.removeChild(container.lastChild);
            }
        }

        // ===== GET LETTER =====
        function getLetter(num) {
            if (num <= 40) return 'B';
            if (num <= 80) return 'I';
            if (num <= 120) return 'N';
            if (num <= 160) return 'G';
            return 'O';
        }

        // ===== UPDATE POINTS DISPLAY =====
        function updatePointsDisplay() {
            document.getElementById('points').textContent = state.points;
            document.getElementById('modalPoints').textContent = state.points;
        }

        // ===== AUDIO CONTROL =====
        function playBackgroundMusic() {
            const audio = document.getElementById('bgMusic');
            audio.volume = 0.2;
            audio.play().catch(() => {
                // Auto-play prevented
            });
        }

        function toggleMute() {
            state.mute = !state.mute;
            const audio = document.getElementById('bgMusic');
            audio.muted = state.mute;
            document.getElementById('muteBtn').textContent = state.mute ? 'üîá' : 'üîä';
        }

        // ===== EVENT LISTENERS =====
        function setupEventListeners() {
            // Wager buttons
            document.getElementById('increaseBtn').onclick = () => adjustWager(1);
            document.getElementById('decreaseBtn').onclick = () => adjustWager(-1);
            
            // Game buttons
            document.getElementById('startBtn').onclick = startGame;
            document.getElementById('stopBtn').onclick = endGame;
            document.getElementById('checkBtn').onclick = checkBingo;
            document.getElementById('placeBetBtn').onclick = startGame;
            document.getElementById('cancelBetBtn').onclick = () => {
                document.getElementById('wagerControl').classList.remove('active');
            };
            
            // Points modal
            document.getElementById('pointsBtn').onclick = () => {
                document.getElementById('pointsModal').classList.add('active');
            };
            
            document.getElementById('closePointsBtn').onclick = () => {
                document.getElementById('pointsModal').classList.remove('active');
            };
            
            // Deposit/Withdraw buttons (do nothing for now)
            document.getElementById('depositBtn').onclick = () => {
                alert('Deposit feature coming soon!');
            };
            
            document.getElementById('withdrawBtn').onclick = () => {
                alert('Withdraw feature coming soon!');
            };
            
            // Result modal
            document.getElementById('playAgainBtn').onclick = () => {
                document.getElementById('resultModal').classList.remove('active');
                // Reset for new game
                document.getElementById('wagerControl').classList.add('active');
                document.getElementById('startBtn').disabled = false;
            };
            
            // History button
            document.getElementById('historyBtn').onclick = () => {
                alert('Last 5 games:\n1. Win: +250 points\n2. Loss: -50 points\n3. Win: +500 points\n4. Loss: -50 points\n5. Current game in progress');
            };
            
            // Audio control
            document.getElementById('muteBtn').onclick = toggleMute;
        }

        // ===== INITIALIZE =====
        window.onload = init;
    </script>
</body>
    </html>
